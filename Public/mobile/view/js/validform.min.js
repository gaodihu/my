$(function(){$(".form input,.form select").blur(function(){var verify=$(this).attr("verify");var $parent=$(this).parent();var okMsg='<div class="formtips onSuccess">Correct.</div>';if(verify=="notnull"){if(this.value==""||this.value==" "){var errorMsg='Not Null.';errorBorder($(this),errorMsg)}else{successBorder($(this))}}if(verify=="user"){if(this.value.length<1||this.value.length>32||this.value==""){var errorMsg='The length of the input 1 ~ 32.';errorBorder($(this),errorMsg)}else{successBorder($(this))}}if(verify=="pw1"){if(this.value.length<1||this.value.length>6||this.value==""){var errorMsg='The length of the input 1 ~ 6.';errorBorder($(this),errorMsg)}else{successBorder($(this))}}if(verify=="pw2"){if($("input[verify=pw1]").val()!=this.value){var errorMsg='Password error';errorBorder($(this),errorMsg)}else if(this.value.length<1||this.value.length>6||this.value==""){var errorMsg='The length of the input 1 ~ 6.';errorBorder($(this),errorMsg)}else{successBorder($(this))}}if(verify=="address"){if(this.name=='address_2'&&this.value==''){}else{if(this.value.length<3||this.value.length>35||this.value==""){var errorMsg='The length of the input 3 ~ 35.';errorBorder($(this),errorMsg)}else{successBorder($(this))}}}if(verify=="city"){if(this.value.length<2||this.value.length>128||this.value==""){var errorMsg='The length of the input 2 ~ 128.';errorBorder($(this),errorMsg)}else{successBorder($(this))}}if(verify=="email"){if(this.value==""||(!checkMail(this.value))){var errorMsg='Please enter a correct E-mail address';errorBorder($(this),errorMsg)}else{successBorder($(this))}}if(verify=="number"){if(this.value==""||this.value.length<1||this.value.length>16){var errorMsg="The maximum length of the phone number is 16 characters.";errorBorder($(this),errorMsg);return}if(this.value!=""&&!/^([\d-+#,*\s\.\(\)\/\\\[\]]*)$/.test(this.value)){var errorMsg="Please input valid phone number, supported formats: Number, Space and +-()";errorBorder($(this),errorMsg);return}else{successBorder($(this))}}if(verify=="postcode"){if(this.value==""||this.value.length<2||this.value.length>10){var errorMsg="Post Code must be between 2 and 10 characters in length";errorBorder($(this),errorMsg)}else{successBorder($(this))}}if(verify=="company"){if(this.value.length>35){var errorMsg="The length of the input 1 ~ 35.";errorBorder($(this),errorMsg)}else{successBorder($(this))}}}).keyup(function(){$(this).triggerHandler("blur")}).focus(function(){});$('.send').click(function(){$(this).parents("form").find("input,select").triggerHandler('blur');var flg=false;$(this).parents("form").find(".formtips").each(function(){if($(this).css("display")!='none'){$(this).parents("form").find(".redborder").focus();flg=true;return false}})if(flg){return false}});$('.res').click(function(){$(".formtips").hide()})})$(function(){var flg=true;$(".form2 input,.form2 select").blur(function(){var verify=$(this).attr("verify");if(verify=="notnull"){if(this.value==""||this.value==" "){var errorMsg='Not Null.';common.alertInfo(errorMsg,"error");flg=false;return}}if(verify=="user"){if(this.value.length<3||this.value.length>32||this.value==""){var errorMsg='User The length of the input 1 ~ 32.';common.alertInfo(errorMsg,"error");flg=false;return}}if(verify=="pw1"){if(this.value.length<4||this.value.length>20||this.value==""){var errorMsg='Password The length of the input 4 ~ 20.';common.alertInfo(errorMsg,"error");flg=false;return}}if(verify=="pw2"){if($("input[verify=pw1]").val()!=this.value){var errorMsg='Confirm Password error';common.alertInfo(errorMsg,"error");flg=false;return}else if(this.value.length<4||this.value.length>20||this.value==""){var errorMsg='Confirm Password The length of the input 4 ~ 20.';common.alertInfo(errorMsg,"error");flg=false;return}}if(verify=="email"){if(this.value==""||(!checkMail(this.value))){var errorMsg='Please enter a correct E-mail address';common.alertInfo(errorMsg,"error");flg=false;return}}if(!/^[a-zA-Z0-9\u4e00-\u9fa5]+$/.test(this.value)&&this.value!=""){if(verify=="user"||verify=="address"||verify=="city"){var errorMsg='Input format is wrong';common.alertInfo(errorMsg,"error");flg=false;return}}flg=true})$('.send').click(function(){$(this).parents("form").find(".form input,.form select").triggerHandler('blur');if(flg){if(typeof formSubmit!='undefined'){formSubmit()}}else{$(this).parents("form").find(".redborder").focus();return false}})})$.valiform={setSuccessMsg:function(name,succeedMsg){var me=$("[name="+name+"]"),$parent=me.parent();me.parents("li").find(".formtips").hide();if(me.parents("li").find(".formtips").length==0){$parent.append('<div class="formtips onSuccess">'+succeedMsg+'</div>')}successBorder(me)},setErrotMsg:function(name,errorMsg){var me=$("[name="+name+"]"),$parent=me.parent();me.parents("li").find(".formtips").show();errorBorder(me,errorMsg)},defaultMsg:function(name,Msg){var me=$("[name="+name+"]"),$parent=me.parent();me.parents("li").find(".formtips").show();if(me.parents("li").find(".formtips").length==0){$parent.append('<div class="formtips default">'+Msg+'</div>')}me.removeClass("redborder");me.removeClass("greenborder")}}function successBorder(obj){obj.parent("li").find(".formtips").hide();obj.removeClass("redborder");obj.addClass("greenborder")}function errorBorder(obj,errorMsg){var $parent=obj.parent("li");if(obj.parent("li").find(".formtips").length==0){$parent.append('<div class="formtips onError">'+errorMsg+'</div>')}obj.parent("li").find(".formtips").show();obj.removeClass("greenborder");obj.addClass("redborder")}function checkMail(str){var reg=/^(.)*@[\s\S]+((\.\w+)+)$/;return reg.test(str)}